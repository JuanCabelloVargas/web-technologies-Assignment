<div class="card">
  <div class="card-body">
    <% if participations.any? %>
      <ul class="list-group list-group-flush">
        <% participations.each do |participation| %>
          <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap gap-2">
            <div>
              <strong><%= participation.user.username %></strong>
              <div class="small text-muted">
                Status: <%= participation.status.titleize %> Â·
                Joined: <%= l(participation.joined_at, format: :short) %>
              </div>
            </div>
            <% if current_user && (participation.user_id == current_user.id || challenge.creator_id == current_user.id) %>
              <%= button_to "Remove",
                            challenge_challenge_participation_path(challenge, participation),
                            method: :delete,
                            class: "btn btn-sm btn-outline-danger" %>
            <% end %>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p class="mb-0 text-muted">No participants yet.</p>
    <% end %>
  </div>
</div>
